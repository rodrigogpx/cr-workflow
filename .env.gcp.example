# .env.gcp.example - CAC 360 Sistema de Workflow CR
# Configurações para Deploy no GCP com Docker Puro
# 
# INSTRUÇÕES:
# 1. Copie este arquivo para /opt/cac360/config/.env.prod (produção)
# 2. Copie este arquivo para /opt/cac360/config/.env.hml (homolog)
# 3. Preencha os valores específicos do seu ambiente
# 4. Mantenha este arquivo seguro (não commitar valores reais)

# ============================================
# BANCO DE DADOS (PostgreSQL)
# ============================================
# Formato: postgresql://usuario:senha@host:porta/banco
# Em Docker Compose: host = "postgres" (nome do serviço)
DB_NAME=cac360_platform
DB_USER=cac360
DB_PASSWORD=ALTERAR_SENHA_FORTE_AQUI_32_CHARS
DB_PORT=5432

# URL completa (gerada automaticamente pelo docker-compose)
# DATABASE_URL=postgresql://cac360:SENHA@postgres:5432/cac360_platform

# ============================================
# AUTENTICAÇÃO
# ============================================
# Chave secreta para tokens JWT (mínimo 32 caracteres, use caracteres aleatórios)
# Gere com: openssl rand -base64 32
JWT_SECRET=GERE_UMA_CHAVE_ALEATORIA_32_CHARS_AQUI_2025

# Chave para criptografia de senhas de DB/SMTP dos tenants (obrigatório)
# Gere com: openssl rand -base64 32
SECRET_KEY=GERE_OUTRA_CHAVE_ALEATORIA_32_CHARS_AQUI_2025

# Token para acesso ao Install Wizard
INSTALL_TOKEN=cac360rodrigoparreira

# Habilitar Install Wizard (false em produção)
INSTALL_WIZARD_ENABLED=false

# ============================================
# APLICAÇÃO
# ============================================
NODE_ENV=production
PORT=3000

# ============================================
# FRONTEND
# ============================================
VITE_APP_TITLE=CAC 360 – Gestão de Ciclo Completo
VITE_APP_LOGO=/logo.png

# ============================================
# SMTP (Envio de Emails)
# ============================================
# Opção 1: SendGrid (Recomendado para produção)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=SG.ALTERAR_COM_SUA_API_KEY_SENDGRID
SMTP_FROM=CAC 360 <noreply@cac360.com.br>
SMTP_SECURE=false

# Opção 2: Gmail (para testes)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=seu-email@gmail.com
# SMTP_PASS=xxxx xxxx xxxx xxxx  # Senha de App do Google
# SMTP_FROM=CAC 360 <seu-email@gmail.com>
# SMTP_SECURE=false

# Opção 3: Amazon SES
# SMTP_HOST=email-smtp.us-east-1.amazonaws.com
# SMTP_PORT=587
# SMTP_USER=AKIAXXXXXXXX
# SMTP_PASS=xxxxxxxx
# SMTP_FROM=CAC 360 <noreply@cac360.com.br>
# SMTP_SECURE=false

# ============================================
# ARMAZENAMENTO S3 (Documentos)
# ============================================
# Opção 1: AWS S3
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=ALTERAR_COM_SUA_SECRET_KEY_AWS
AWS_REGION=sa-east-1
AWS_BUCKET_NAME=firing-range-documentos

# Opção 2: Cloudflare R2 (compatível com S3)
# AWS_ACCESS_KEY_ID=xxxxxxxx
# AWS_SECRET_ACCESS_KEY=xxxxxxxx
# AWS_REGION=auto
# AWS_BUCKET_NAME=firing-range-docs
# S3_ENDPOINT=https://xxxxxx.r2.cloudflarestorage.com

# ============================================
# DOMÍNIO
# ============================================
# Domínio principal para resolução de tenants
DOMAIN=cac360.com.br

# Email para Let's Encrypt (SSL)
ACME_EMAIL=admin@cac360.com.br

# ============================================
# OAUTH MANUS (Legado - Opcional)
# ============================================
# OAUTH_SERVER_URL=https://api.manus.im
# OWNER_NAME=Nome
# OWNER_OPEN_ID=seu_open_id

# ============================================
# MULTI-TENANT (Opcional)
# ============================================
# Para desenvolvimento local
DEV_TENANT_SLUG=default

# Exemplo de Tenant (Database por clube)
# Clube de Tiro Esportivo SP
TIROESP_DB_HOST=db-tiroesp
TIROESP_DB_PORT=5432
TIROESP_DB_NAME=cac360_tiroesp
TIROESP_DB_USER=cac360_tiroesp
TIROESP_DB_PASS=senha_segura_tiroesp

# Clube Tiro Rio
CLUBERIO_DB_HOST=db-cluberio
CLUBERIO_DB_PORT=5432
CLUBERIO_DB_NAME=cac360_cluberio
CLUBERIO_DB_USER=cac360_cluberio
CLUBERIO_DB_PASS=senha_segura_cluberio

# ============================================
# BACKUP
# ============================================
# Agendamento de backup (formato cron)
BACKUP_SCHEDULE=0 3 * * *
BACKUP_RETENTION_DAYS=30

# ============================================
# OBSERVAÇÕES DE SEGURANÇA
# ============================================
# 1. NUNCA commitar este arquivo com valores reais
# 2. Usar GCP Secret Manager para armazenar secrets
# 3. Rotacionar JWT_SECRET regularmente
# 4. Usar senhas fortes (32+ caracteres)
# 5. Diferentes valores para prod e hml
# 6. Auditar acesso aos secrets regularmente
