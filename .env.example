# ===========================================
# CONFIGURAÇÕES PARA DEPLOY (DOCKER SWARM)
# ===========================================
# Copie este arquivo para /opt/cac360/config/.env e preencha os valores

# ------------------------------------------
# BANCO DE DADOS (PostgreSQL)
# ------------------------------------------
# No Swarm, o host é o nome do serviço (db) ou use DATABASE_URL completa
DATABASE_URL="postgresql://cac360:alterar_senha_forte@db:5432/cac360"

# ------------------------------------------
# AUTENTICAÇÃO
# ------------------------------------------
# Chave secreta para tokens JWT (mínimo 32 caracteres)
JWT_SECRET="sua_chave_secreta_muito_longa_e_aleatoria_aqui_2025!"

# Chave para criptografia de senhas de DB/SMTP dos tenants (obrigatório)
SECRET_KEY="gere_uma_chave_aleatoria_32_chars"

# Credenciais do primeiro administrador
ADMIN_EMAIL="admin@acrdigital.com.br"
ADMIN_PASSWORD="admin123"

# Tenant padrão
TENANT_SLUG="dashboard"
TENANT_NAME="Dashboard"
TENANT_DB_HOST="postgres"
TENANT_DB_PORT="5432"
TENANT_DB_NAME="cac360"
TENANT_DB_USER="cac360"
TENANT_DB_PASSWORD="admin123"

# ------------------------------------------
# APLICAÇÃO
# ------------------------------------------
NODE_ENV="production"
PORT="3000"

# ------------------------------------------
# FRONTEND (Opcional)
# ------------------------------------------
VITE_APP_TITLE="CAC 360 – Gestão de Ciclo Completo"
VITE_APP_LOGO="/logo.png"

# ------------------------------------------
# SMTP (Envio de Emails)
# ------------------------------------------
# Gmail (para testes)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="seu-email@gmail.com"
SMTP_PASS="xxxx xxxx xxxx xxxx"  # Senha de App do Google
SMTP_FROM="CAC 360 <seu-email@gmail.com>"
SMTP_SECURE="false"

# SendGrid (para produção)
# SMTP_HOST="smtp.sendgrid.net"
# SMTP_PORT="587"
# SMTP_USER="apikey"
# SMTP_PASS="SG.xxxxxxxx"

# Amazon SES
# SMTP_HOST="email-smtp.us-east-1.amazonaws.com"
# SMTP_PORT="587"
# SMTP_USER="AKIAXXXXXXXX"
# SMTP_PASS="xxxxxxxx"

# ------------------------------------------
# ARMAZENAMENTO S3 (Opcional)
# ------------------------------------------
# AWS S3
AWS_ACCESS_KEY_ID="AKIAXXXXXXXXXXXXXXXX"
AWS_SECRET_ACCESS_KEY="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
AWS_REGION="sa-east-1"
AWS_BUCKET_NAME="firing-range-documentos"

# Cloudflare R2 (compatível com S3)
# AWS_ACCESS_KEY_ID="xxxxxxxx"
# AWS_SECRET_ACCESS_KEY="xxxxxxxx"
# AWS_REGION="auto"
# AWS_BUCKET_NAME="firing-range-docs"
# S3_ENDPOINT="https://xxxxxx.r2.cloudflarestorage.com"

# ------------------------------------------
# OAUTH MANUS (Legado - Opcional)
# ------------------------------------------
# OAUTH_SERVER_URL="https://api.manus.im"
# OWNER_NAME="Nome"
# OWNER_OPEN_ID="seu_open_id"

# ===========================================
# MULTI-TENANT (Opcional - para múltiplos clubes)
# ===========================================

# ------------------------------------------
# BANCO DA PLATAFORMA (Gerencia Tenants)
# ------------------------------------------
# Em produção, use um banco separado para gerenciar tenants
PLATFORM_DATABASE_URL="postgresql://cac360_platform:senha@host:5432/cac360_platform"

# ------------------------------------------
# CONFIGURAÇÃO DE TENANT (Desenvolvimento)
# ------------------------------------------
# Slug do tenant para desenvolvimento local
DEV_TENANT_SLUG="default"

# ------------------------------------------
# DOMÍNIO BASE
# ------------------------------------------
# Domínio principal para resolução de tenants
# Ex: tiroesp.cac360.com.br → tenant "tiroesp"
DOMAIN="cac360.com.br"

# ------------------------------------------
# EXEMPLO DE TENANT (Database por clube)
# ------------------------------------------
# Clube de Tiro Esportivo SP
TIROESP_DB_HOST="db-tiroesp"
TIROESP_DB_PORT="5432"
TIROESP_DB_NAME="cac360_tiroesp"
TIROESP_DB_USER="cac360_tiroesp"
TIROESP_DB_PASS="senha_segura_tiroesp"

# Clube Tiro Rio
CLUBERIO_DB_HOST="db-cluberio"
CLUBERIO_DB_PORT="5432"
CLUBERIO_DB_NAME="cac360_cluberio"
CLUBERIO_DB_USER="cac360_cluberio"
CLUBERIO_DB_PASS="senha_segura_cluberio"

# ------------------------------------------
# BACKUP (Multi-Tenant)
# ------------------------------------------
BACKUP_SCHEDULE="0 3 * * *"  # Cron: 3am diário
BACKUP_RETENTION_DAYS="30"

# ------------------------------------------
# LET'S ENCRYPT (SSL para Traefik)
# ------------------------------------------
ACME_EMAIL="rodrigogpx@gmail.com"
